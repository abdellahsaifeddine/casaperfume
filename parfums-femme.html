<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>ğ‚ ğ€ ğ’ ğ€ ğ ğ„ ğ‘ ğ… â€” Parfums Femme</title>

  <meta name="description" content="Parfums Femme CASAPERF : dÃ©cants authentiques haute qualitÃ© au meilleur prix.">
  <link rel="stylesheet" href="code.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <script src="app.js" defer></script>
</head>

<body>

  <div class="top-bar">
    LIVRAISON GRATUITE DÃˆS 500 DH
  </div>

  <header>
    <a href="index.html" class="logo" aria-label="Accueil CASAPERF">
      ğ‚ ğ€ ğ’ ğ€ ğ ğ„ ğ‘ ğ…
    </a>

    <nav class="navigation header-actions" aria-label="Navigation principale">
      <div class="nav-item has-dropdown">
        <button class="nav-link" type="button" aria-haspopup="true" aria-expanded="false">
          Nos Parfums <i class="fas fa-chevron-down" style="font-size:.85em" aria-hidden="true"></i>
        </button>
        <div class="dropdown" role="menu" aria-label="Choisir catÃ©gorie">
          <a href="parfums-homme.html" role="menuitem"><i class="fas fa-male"></i> Parfums Homme</a>
          <a href="parfums-femme.html" role="menuitem"><i class="fas fa-female"></i> Parfums Femme</a>
        </div>
      </div>

      <button class="cart-btn" id="openCartBtn" type="button" aria-label="Ouvrir le panier">
        <i class="fas fa-shopping-bag"></i>
        <span class="cart-label">Votre panier</span>
        <span id="cartCount" class="cart-count">0</span>
      </button>
    </nav>
  </header>

  <form
    class="search-bar header-search"
    id="searchForm"
    autocomplete="off"
    role="search"
    aria-label="Recherche de parfums"
  >
    <i class="fas fa-search icon" aria-hidden="true"></i>
    <input
      type="search"
      id="searchInput"
      placeholder="Rechercher un parfumâ€¦"
      aria-label="Rechercher un parfum"
    >
    <div id="searchResults" aria-live="polite"></div>
  </form>

  <div class="header-spacer"></div>

  <section class="projects" id="produits">
    <h2 class="title">Parfums Femme</h2>

    <div class="content">

      <!-- LA VIE EST BELLE (dÃ©cant) -->
      <div class="project-card"
           data-decant-price="119"
           data-decant-name="LancÃ´me La Vie Est Belle (DÃ©cant 10 ml)"
           data-img="https://media.sephora.eu/content/dam/digital/pim/published/L/LANCO/254232/45925-media_swatch.jpg?scaleWidth=585&scaleHeight=585&scaleMode=fit">

        <div class="project-image">
          <a href="lancome-la-vie-est-belle-edp-recharge.html">
            <img loading="lazy"
                 src="https://media.sephora.eu/content/dam/digital/pim/published/L/LANCO/254232/45925-media_swatch.jpg?scaleWidth=585&scaleHeight=585&scaleMode=fit"
                 alt="LancÃ´me La Vie Est Belle Eau de Parfum">
          </a>
        </div>

        <div class="project-info">
          <p class="project-category">Femme â€¢ Floral Gourmand <span class="badge decant">DÃ©cant uniquement</span></p>

          <strong class="project-title"><span>LancÃ´me La Vie Est Belle</span></strong>

          <div class="option-toggle">
            <button type="button" class="opt-btn disabled">Original</button>
            <button type="button" class="opt-btn active">DÃ©cant</button>
          </div>

          <div class="product-meta">
            <span class="price">119 DH</span>
            <button type="button" class="add-btn"
                    data-title="LancÃ´me La Vie Est Belle (DÃ©cant 10 ml)"
                    data-price="119"
                    data-img="https://media.sephora.eu/content/dam/digital/pim/published/L/LANCO/254232/45925-media_swatch.jpg?scaleWidth=585&scaleHeight=585&scaleMode=fit">
              <i class="fas fa-cart-plus"></i> Ajouter
            </button>
          </div>
        </div>

      </div>

    </div>
  </section>

  <!-- Panier -->
  <aside class="cart-drawer" id="cartDrawer">
    <div class="cart-head">
      <strong>Votre panier</strong>
      <button class="cart-close" type="button" onclick="toggleCart()" aria-label="Fermer le panier">
        <i class="fas fa-times" aria-hidden="true"></i>
      </button>
    </div>

    <div id="cartItems" class="cart-items"></div>

    <div class="cart-foot">
      <div class="totals"><span>Sous-total</span><strong id="subtotal">0 DH</strong></div>
      <a class="checkout" href="commande.html" target="_blank" rel="noopener noreferrer">
        <i class="fas fa-credit-card"></i> Passer la commande
      </a>
    </div>
  </aside>

  <script>
    function dh(n){
      return Number(n).toLocaleString('fr-FR', {
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
      }) + ' DH';
    }

    // Init des dÃ©cants (si tu ajoutes dâ€™autres parfums femme plus tard)
    document.addEventListener('click', function(e){
      const btn = e.target.closest('.opt-btn');
      if(!btn || btn.classList.contains('disabled')) return;

      const card = btn.closest('.project-card');
      const priceEl = card.querySelector('.price');
      const addBtn  = card.querySelector('.add-btn');

      const price = Number(card.dataset.decantPrice);

      if (priceEl) priceEl.textContent = dh(price);
      if (addBtn) {
        addBtn.dataset.title = card.dataset.decantName;
        addBtn.dataset.price = price;
        addBtn.dataset.img   = card.dataset.img;
      }
    });

    document.querySelectorAll('.project-card').forEach(card=>{
      const addBtn = card.querySelector('.add-btn');
      if(!addBtn) return;

      addBtn.dataset.title = card.dataset.decantName;
      addBtn.dataset.price = card.dataset.decantPrice;
      addBtn.dataset.img   = card.dataset.img;
    });
  </script>

</body>
</html>
